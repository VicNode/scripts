# Installation

The NetApp python sdk must be installed in the same directory as report.py.

There are no other third party library dependencies

########################### ReDS Merit Allocations ###########################
To aggregate reporting information about ReDS Merit Allocations the user should run:

./report.py allocation 

after sourcing their OpenStack environment creds (an example reportingrc file is provided). 
NOTE: Slight changes have been made to the use of environment creds, and there are named
variables for each services individual region, i.e.

OS_SWIFT_REGION_NAME
OS_CINDER_REGION_NAME

Use

./report.py allocation -h

to bring up the help menu for this reporting information


usage: report.py allocation [-h] [-i] [-u USERNAME] [-p PASSWORD] [-t TENANT]
                            [-a AUTH_URL] [-s SWIFT_REGION] [-c CINDER_REGION]

optional arguments:
  -h, --help            show this help message and exit
  -i, --insecure        Whether to connect to endpoints using insecure SSL
  -u USERNAME, --username USERNAME
                        Openstack username to use when connecting
  -p PASSWORD, --password PASSWORD
                        Openstack password to use when connecting
  -t TENANT, --tenant TENANT
                        Openstack tenant to use when connecting
  -a AUTH_URL, --auth_url AUTH_URL
                        Openstack endpoint url to authenticate against
  -s SWIFT_REGION, --swift_region SWIFT_REGION
                        Name of the Swift region to report on
  -c CINDER_REGION, --cinder_region CINDER_REGION
                        Name of the Cinder region to report on

########################### Computational Storage Capacity Reporting ###########################
To aggregate reporting information about the computational storage component and its capacity
the user should run:

./report.py capacity

and provide the necessary credentials as command line arguments. To see the full list of 
arguments the user can call

./report.py capacity -h


usage: report.py capacity [-h] -f FILER -u USERNAME -p PASSWORD

optional arguments:
  -h, --help            show this help message and exit
  -f FILER, --filer FILER
                        Address or hostname of NetApp filer
  -u USERNAME, --username USERNAME
                        Username to use when connecting to NetApp filer
  -p PASSWORD, --password PASSWORD
                        Password to use when connecting to NetApp filer


########################### Archival Storage Capacity Reporting ###########################
To aggregate reporting information about the archival storage component and its capacity run
the script

./diskusage.sh

The user must have SSH key access to each of the storage servers as root and all the servers
are expected to be online at the time the script is run.
